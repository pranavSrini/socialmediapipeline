{"ast":null,"code":"// Call dispose callback on each cache purge\n\n\"use strict\";\n\nvar callable = require(\"es5-ext/object/valid-callable\"),\n  forEach = require(\"es5-ext/object/for-each\"),\n  extensions = require(\"../lib/registered-extensions\"),\n  apply = Function.prototype.apply;\nextensions.dispose = function (dispose, conf, options) {\n  var del;\n  callable(dispose);\n  if (options.async && extensions.async || options.promise && extensions.promise) {\n    conf.on(\"deleteasync\", del = function (id, resultArray) {\n      apply.call(dispose, null, resultArray);\n    });\n    conf.on(\"clearasync\", function (cache) {\n      forEach(cache, function (result, id) {\n        del(id, result);\n      });\n    });\n    return;\n  }\n  conf.on(\"delete\", del = function (id, result) {\n    dispose(result);\n  });\n  conf.on(\"clear\", function (cache) {\n    forEach(cache, function (result, id) {\n      del(id, result);\n    });\n  });\n};","map":{"version":3,"names":["callable","require","forEach","extensions","apply","Function","prototype","dispose","conf","options","del","async","promise","on","id","resultArray","call","cache","result"],"sources":["/Users/pranavsrinivasan/Documents/VSCode/aividgen/server/.api/apis/aivideoapi/node_modules/memoizee/ext/dispose.js"],"sourcesContent":["// Call dispose callback on each cache purge\n\n\"use strict\";\n\nvar callable   = require(\"es5-ext/object/valid-callable\")\n  , forEach    = require(\"es5-ext/object/for-each\")\n  , extensions = require(\"../lib/registered-extensions\")\n  , apply      = Function.prototype.apply;\n\nextensions.dispose = function (dispose, conf, options) {\n\tvar del;\n\tcallable(dispose);\n\tif ((options.async && extensions.async) || (options.promise && extensions.promise)) {\n\t\tconf.on(\n\t\t\t\"deleteasync\",\n\t\t\t(del = function (id, resultArray) { apply.call(dispose, null, resultArray); })\n\t\t);\n\t\tconf.on(\"clearasync\", function (cache) {\n\t\t\tforEach(cache, function (result, id) { del(id, result); });\n\t\t});\n\t\treturn;\n\t}\n\tconf.on(\"delete\", (del = function (id, result) { dispose(result); }));\n\tconf.on(\"clear\", function (cache) {\n\t\tforEach(cache, function (result, id) { del(id, result); });\n\t});\n};\n"],"mappings":"AAAA;;AAEA,YAAY;;AAEZ,IAAIA,QAAQ,GAAKC,OAAO,CAAC,+BAA+B,CAAC;EACrDC,OAAO,GAAMD,OAAO,CAAC,yBAAyB,CAAC;EAC/CE,UAAU,GAAGF,OAAO,CAAC,8BAA8B,CAAC;EACpDG,KAAK,GAAQC,QAAQ,CAACC,SAAS,CAACF,KAAK;AAEzCD,UAAU,CAACI,OAAO,GAAG,UAAUA,OAAO,EAAEC,IAAI,EAAEC,OAAO,EAAE;EACtD,IAAIC,GAAG;EACPV,QAAQ,CAACO,OAAO,CAAC;EACjB,IAAKE,OAAO,CAACE,KAAK,IAAIR,UAAU,CAACQ,KAAK,IAAMF,OAAO,CAACG,OAAO,IAAIT,UAAU,CAACS,OAAQ,EAAE;IACnFJ,IAAI,CAACK,EAAE,CACN,aAAa,EACZH,GAAG,GAAG,SAAAA,CAAUI,EAAE,EAAEC,WAAW,EAAE;MAAEX,KAAK,CAACY,IAAI,CAACT,OAAO,EAAE,IAAI,EAAEQ,WAAW,CAAC;IAAE,CAC7E,CAAC;IACDP,IAAI,CAACK,EAAE,CAAC,YAAY,EAAE,UAAUI,KAAK,EAAE;MACtCf,OAAO,CAACe,KAAK,EAAE,UAAUC,MAAM,EAAEJ,EAAE,EAAE;QAAEJ,GAAG,CAACI,EAAE,EAAEI,MAAM,CAAC;MAAE,CAAC,CAAC;IAC3D,CAAC,CAAC;IACF;EACD;EACAV,IAAI,CAACK,EAAE,CAAC,QAAQ,EAAGH,GAAG,GAAG,SAAAA,CAAUI,EAAE,EAAEI,MAAM,EAAE;IAAEX,OAAO,CAACW,MAAM,CAAC;EAAE,CAAE,CAAC;EACrEV,IAAI,CAACK,EAAE,CAAC,OAAO,EAAE,UAAUI,KAAK,EAAE;IACjCf,OAAO,CAACe,KAAK,EAAE,UAAUC,MAAM,EAAEJ,EAAE,EAAE;MAAEJ,GAAG,CAACI,EAAE,EAAEI,MAAM,CAAC;IAAE,CAAC,CAAC;EAC3D,CAAC,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}