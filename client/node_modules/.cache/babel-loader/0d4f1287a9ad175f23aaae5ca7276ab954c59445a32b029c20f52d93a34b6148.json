{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nconst fs_1 = require(\"fs\");\nconst mimer_1 = __importDefault(require(\"mimer\"));\nconst uriTemplate_1 = require(\"./template/uriTemplate\");\nconst {\n  readFile\n} = fs_1.promises;\nclass DataURIParser {\n  async encode(fileName, handler) {\n    try {\n      const buffer = await readFile(fileName);\n      this.format(fileName, buffer);\n      handler && handler(undefined, this.content, this);\n      return this.content;\n    } catch (err) {\n      if (handler) {\n        handler(err);\n        return;\n      }\n      throw err;\n    }\n  }\n  format(fileName, fileContent) {\n    const fileBuffer = fileContent instanceof Buffer ? fileContent : Buffer.from(fileContent);\n    this.buffer = fileBuffer;\n    this.base64 = fileBuffer.toString('base64');\n    this.createMetadata(fileName);\n    return this;\n  }\n  createMetadata(fileName) {\n    const {\n      base64,\n      mimetype = mimer_1.default(fileName)\n    } = this;\n    this.fileName = fileName;\n    this.mimetype = mimetype;\n    this.content = uriTemplate_1.uriParser({\n      base64,\n      mimetype\n    });\n    return this;\n  }\n}\nmodule.exports = DataURIParser;","map":{"version":3,"names":["__importDefault","mod","__esModule","fs_1","require","mimer_1","uriTemplate_1","readFile","promises","DataURIParser","encode","fileName","handler","buffer","format","undefined","content","err","fileContent","fileBuffer","Buffer","from","base64","toString","createMetadata","mimetype","default","uriParser","module","exports"],"sources":["/Users/pranavsrinivasan/Documents/VSCode/aividgen/client/.api/apis/aivideoapi/node_modules/datauri/parser.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst fs_1 = require(\"fs\");\nconst mimer_1 = __importDefault(require(\"mimer\"));\nconst uriTemplate_1 = require(\"./template/uriTemplate\");\nconst { readFile } = fs_1.promises;\nclass DataURIParser {\n    async encode(fileName, handler) {\n        try {\n            const buffer = await readFile(fileName);\n            this.format(fileName, buffer);\n            handler && handler(undefined, this.content, this);\n            return this.content;\n        }\n        catch (err) {\n            if (handler) {\n                handler(err);\n                return;\n            }\n            throw err;\n        }\n    }\n    format(fileName, fileContent) {\n        const fileBuffer = fileContent instanceof Buffer ? fileContent : Buffer.from(fileContent);\n        this.buffer = fileBuffer;\n        this.base64 = fileBuffer.toString('base64');\n        this.createMetadata(fileName);\n        return this;\n    }\n    createMetadata(fileName) {\n        const { base64, mimetype = mimer_1.default(fileName) } = this;\n        this.fileName = fileName;\n        this.mimetype = mimetype;\n        this.content = uriTemplate_1.uriParser({ base64, mimetype });\n        return this;\n    }\n}\nmodule.exports = DataURIParser;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACD,MAAME,IAAI,GAAGC,OAAO,CAAC,IAAI,CAAC;AAC1B,MAAMC,OAAO,GAAGL,eAAe,CAACI,OAAO,CAAC,OAAO,CAAC,CAAC;AACjD,MAAME,aAAa,GAAGF,OAAO,CAAC,wBAAwB,CAAC;AACvD,MAAM;EAAEG;AAAS,CAAC,GAAGJ,IAAI,CAACK,QAAQ;AAClC,MAAMC,aAAa,CAAC;EAChB,MAAMC,MAAMA,CAACC,QAAQ,EAAEC,OAAO,EAAE;IAC5B,IAAI;MACA,MAAMC,MAAM,GAAG,MAAMN,QAAQ,CAACI,QAAQ,CAAC;MACvC,IAAI,CAACG,MAAM,CAACH,QAAQ,EAAEE,MAAM,CAAC;MAC7BD,OAAO,IAAIA,OAAO,CAACG,SAAS,EAAE,IAAI,CAACC,OAAO,EAAE,IAAI,CAAC;MACjD,OAAO,IAAI,CAACA,OAAO;IACvB,CAAC,CACD,OAAOC,GAAG,EAAE;MACR,IAAIL,OAAO,EAAE;QACTA,OAAO,CAACK,GAAG,CAAC;QACZ;MACJ;MACA,MAAMA,GAAG;IACb;EACJ;EACAH,MAAMA,CAACH,QAAQ,EAAEO,WAAW,EAAE;IAC1B,MAAMC,UAAU,GAAGD,WAAW,YAAYE,MAAM,GAAGF,WAAW,GAAGE,MAAM,CAACC,IAAI,CAACH,WAAW,CAAC;IACzF,IAAI,CAACL,MAAM,GAAGM,UAAU;IACxB,IAAI,CAACG,MAAM,GAAGH,UAAU,CAACI,QAAQ,CAAC,QAAQ,CAAC;IAC3C,IAAI,CAACC,cAAc,CAACb,QAAQ,CAAC;IAC7B,OAAO,IAAI;EACf;EACAa,cAAcA,CAACb,QAAQ,EAAE;IACrB,MAAM;MAAEW,MAAM;MAAEG,QAAQ,GAAGpB,OAAO,CAACqB,OAAO,CAACf,QAAQ;IAAE,CAAC,GAAG,IAAI;IAC7D,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACc,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACT,OAAO,GAAGV,aAAa,CAACqB,SAAS,CAAC;MAAEL,MAAM;MAAEG;IAAS,CAAC,CAAC;IAC5D,OAAO,IAAI;EACf;AACJ;AACAG,MAAM,CAACC,OAAO,GAAGpB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}