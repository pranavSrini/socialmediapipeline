{"ast":null,"code":"// Limit cache size, LRU (least recently used) algorithm.\n\n\"use strict\";\n\nvar toPosInteger = require(\"es5-ext/number/to-pos-integer\"),\n  lruQueue = require(\"lru-queue\"),\n  extensions = require(\"../lib/registered-extensions\");\nextensions.max = function (max, conf, options) {\n  var postfix, queue, hit;\n  max = toPosInteger(max);\n  if (!max) return;\n  queue = lruQueue(max);\n  postfix = options.async && extensions.async || options.promise && extensions.promise ? \"async\" : \"\";\n  conf.on(\"set\" + postfix, hit = function (id) {\n    id = queue.hit(id);\n    if (id === undefined) return;\n    conf.delete(id);\n  });\n  conf.on(\"get\" + postfix, hit);\n  conf.on(\"delete\" + postfix, queue.delete);\n  conf.on(\"clear\" + postfix, queue.clear);\n};","map":{"version":3,"names":["toPosInteger","require","lruQueue","extensions","max","conf","options","postfix","queue","hit","async","promise","on","id","undefined","delete","clear"],"sources":["/Users/pranavsrinivasan/Documents/VSCode/aividgen/client/.api/apis/aivideoapi/node_modules/memoizee/ext/max.js"],"sourcesContent":["// Limit cache size, LRU (least recently used) algorithm.\n\n\"use strict\";\n\nvar toPosInteger = require(\"es5-ext/number/to-pos-integer\")\n  , lruQueue     = require(\"lru-queue\")\n  , extensions   = require(\"../lib/registered-extensions\");\n\nextensions.max = function (max, conf, options) {\n\tvar postfix, queue, hit;\n\n\tmax = toPosInteger(max);\n\tif (!max) return;\n\n\tqueue = lruQueue(max);\n\tpostfix =\n\t\t(options.async && extensions.async) || (options.promise && extensions.promise)\n\t\t\t? \"async\"\n\t\t\t: \"\";\n\n\tconf.on(\n\t\t\"set\" + postfix,\n\t\t(hit = function (id) {\n\t\t\tid = queue.hit(id);\n\t\t\tif (id === undefined) return;\n\t\t\tconf.delete(id);\n\t\t})\n\t);\n\tconf.on(\"get\" + postfix, hit);\n\tconf.on(\"delete\" + postfix, queue.delete);\n\tconf.on(\"clear\" + postfix, queue.clear);\n};\n"],"mappings":"AAAA;;AAEA,YAAY;;AAEZ,IAAIA,YAAY,GAAGC,OAAO,CAAC,+BAA+B,CAAC;EACvDC,QAAQ,GAAOD,OAAO,CAAC,WAAW,CAAC;EACnCE,UAAU,GAAKF,OAAO,CAAC,8BAA8B,CAAC;AAE1DE,UAAU,CAACC,GAAG,GAAG,UAAUA,GAAG,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAC9C,IAAIC,OAAO,EAAEC,KAAK,EAAEC,GAAG;EAEvBL,GAAG,GAAGJ,YAAY,CAACI,GAAG,CAAC;EACvB,IAAI,CAACA,GAAG,EAAE;EAEVI,KAAK,GAAGN,QAAQ,CAACE,GAAG,CAAC;EACrBG,OAAO,GACLD,OAAO,CAACI,KAAK,IAAIP,UAAU,CAACO,KAAK,IAAMJ,OAAO,CAACK,OAAO,IAAIR,UAAU,CAACQ,OAAQ,GAC3E,OAAO,GACP,EAAE;EAENN,IAAI,CAACO,EAAE,CACN,KAAK,GAAGL,OAAO,EACdE,GAAG,GAAG,SAAAA,CAAUI,EAAE,EAAE;IACpBA,EAAE,GAAGL,KAAK,CAACC,GAAG,CAACI,EAAE,CAAC;IAClB,IAAIA,EAAE,KAAKC,SAAS,EAAE;IACtBT,IAAI,CAACU,MAAM,CAACF,EAAE,CAAC;EAChB,CACD,CAAC;EACDR,IAAI,CAACO,EAAE,CAAC,KAAK,GAAGL,OAAO,EAAEE,GAAG,CAAC;EAC7BJ,IAAI,CAACO,EAAE,CAAC,QAAQ,GAAGL,OAAO,EAAEC,KAAK,CAACO,MAAM,CAAC;EACzCV,IAAI,CAACO,EAAE,CAAC,OAAO,GAAGL,OAAO,EAAEC,KAAK,CAACQ,KAAK,CAAC;AACxC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}