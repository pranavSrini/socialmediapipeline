{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fal = exports.parseEndpointId = exports.ValidationError = exports.ApiError = exports.withProxy = exports.withMiddleware = exports.createFalClient = void 0;\nconst client_1 = require(\"./client\");\nvar client_2 = require(\"./client\");\nObject.defineProperty(exports, \"createFalClient\", {\n  enumerable: true,\n  get: function () {\n    return client_2.createFalClient;\n  }\n});\nvar middleware_1 = require(\"./middleware\");\nObject.defineProperty(exports, \"withMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return middleware_1.withMiddleware;\n  }\n});\nObject.defineProperty(exports, \"withProxy\", {\n  enumerable: true,\n  get: function () {\n    return middleware_1.withProxy;\n  }\n});\nvar response_1 = require(\"./response\");\nObject.defineProperty(exports, \"ApiError\", {\n  enumerable: true,\n  get: function () {\n    return response_1.ApiError;\n  }\n});\nObject.defineProperty(exports, \"ValidationError\", {\n  enumerable: true,\n  get: function () {\n    return response_1.ValidationError;\n  }\n});\n__exportStar(require(\"./types/common\"), exports);\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"parseEndpointId\", {\n  enumerable: true,\n  get: function () {\n    return utils_1.parseEndpointId;\n  }\n});\n/**\n * Creates a singleton instance of the client. This is useful as a compatibility\n * layer for existing code that uses the clients version prior to 1.0.0.\n */\nexports.fal = function createSingletonFalClient() {\n  let currentInstance = (0, client_1.createFalClient)();\n  return {\n    config(config) {\n      currentInstance = (0, client_1.createFalClient)(config);\n    },\n    get queue() {\n      return currentInstance.queue;\n    },\n    get realtime() {\n      return currentInstance.realtime;\n    },\n    get storage() {\n      return currentInstance.storage;\n    },\n    get streaming() {\n      return currentInstance.streaming;\n    },\n    run(id, options) {\n      return currentInstance.run(id, options);\n    },\n    subscribe(endpointId, options) {\n      return currentInstance.subscribe(endpointId, options);\n    },\n    stream(endpointId, options) {\n      return currentInstance.stream(endpointId, options);\n    }\n  };\n}();","map":{"version":3,"names":["client_1","require","client_2","Object","defineProperty","exports","enumerable","get","createFalClient","middleware_1","withMiddleware","withProxy","response_1","ApiError","ValidationError","__exportStar","utils_1","parseEndpointId","fal","createSingletonFalClient","currentInstance","config","queue","realtime","storage","streaming","run","id","options","subscribe","endpointId","stream"],"sources":["/Users/pranavsrinivasan/Documents/VSCode/aividgen/client/libs/client/src/index.ts"],"sourcesContent":["import { createFalClient, type FalClient } from \"./client\";\nimport { Config } from \"./config\";\nimport { StreamOptions } from \"./streaming\";\nimport { EndpointType, InputType } from \"./types/client\";\nimport { RunOptions } from \"./types/common\";\n\nexport { createFalClient, type FalClient } from \"./client\";\nexport { withMiddleware, withProxy } from \"./middleware\";\nexport type { RequestMiddleware } from \"./middleware\";\nexport type { QueueClient } from \"./queue\";\nexport type { RealtimeClient } from \"./realtime\";\nexport { ApiError, ValidationError } from \"./response\";\nexport type { ResponseHandler } from \"./response\";\nexport type { StorageClient } from \"./storage\";\nexport type { FalStream, StreamingClient } from \"./streaming\";\nexport * from \"./types/common\";\nexport type {\n  QueueStatus,\n  ValidationErrorInfo,\n  WebHookResponse,\n} from \"./types/common\";\nexport { parseEndpointId } from \"./utils\";\n\ntype SingletonFalClient = {\n  config(config: Config): void;\n} & FalClient;\n\n/**\n * Creates a singleton instance of the client. This is useful as a compatibility\n * layer for existing code that uses the clients version prior to 1.0.0.\n */\nexport const fal: SingletonFalClient = (function createSingletonFalClient() {\n  let currentInstance: FalClient = createFalClient();\n  return {\n    config(config: Config) {\n      currentInstance = createFalClient(config);\n    },\n    get queue() {\n      return currentInstance.queue;\n    },\n    get realtime() {\n      return currentInstance.realtime;\n    },\n    get storage() {\n      return currentInstance.storage;\n    },\n    get streaming() {\n      return currentInstance.streaming;\n    },\n    run<Id extends EndpointType>(id: Id, options: RunOptions<InputType<Id>>) {\n      return currentInstance.run<Id>(id, options);\n    },\n    subscribe<Id extends EndpointType>(\n      endpointId: Id,\n      options: RunOptions<InputType<Id>>,\n    ) {\n      return currentInstance.subscribe<Id>(endpointId, options);\n    },\n    stream<Id extends EndpointType>(\n      endpointId: Id,\n      options: StreamOptions<InputType<Id>>,\n    ) {\n      return currentInstance.stream<Id>(endpointId, options);\n    },\n  } satisfies SingletonFalClient;\n})();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,QAAA,GAAAC,OAAA;AAMA,IAAAC,QAAA,GAAAD,OAAA;AAASE,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,CAAA;IAAA,OAAAL,QAAA,CAAAM,eAAe;EAAA;AAAA;AACxB,IAAAC,YAAA,GAAAR,OAAA;AAASE,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,CAAA;IAAA,OAAAE,YAAA,CAAAC,cAAc;EAAA;AAAA;AAAEP,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,CAAA;IAAA,OAAAE,YAAA,CAAAE,SAAS;EAAA;AAAA;AAIlC,IAAAC,UAAA,GAAAX,OAAA;AAASE,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,CAAA;IAAA,OAAAK,UAAA,CAAAC,QAAQ;EAAA;AAAA;AAAEV,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,CAAA;IAAA,OAAAK,UAAA,CAAAE,eAAe;EAAA;AAAA;AAIlCC,YAAA,CAAAd,OAAA,oBAAAI,OAAA;AAMA,IAAAW,OAAA,GAAAf,OAAA;AAASE,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,UAAA;EAAAC,GAAA,WAAAA,CAAA;IAAA,OAAAS,OAAA,CAAAC,eAAe;EAAA;AAAA;AAMxB;;;;AAIaZ,OAAA,CAAAa,GAAG,GAAwB,SAASC,wBAAwBA,CAAA;EACvE,IAAIC,eAAe,GAAc,IAAApB,QAAA,CAAAQ,eAAe,GAAE;EAClD,OAAO;IACLa,MAAMA,CAACA,MAAc;MACnBD,eAAe,GAAG,IAAApB,QAAA,CAAAQ,eAAe,EAACa,MAAM,CAAC;IAC3C,CAAC;IACD,IAAIC,KAAKA,CAAA;MACP,OAAOF,eAAe,CAACE,KAAK;IAC9B,CAAC;IACD,IAAIC,QAAQA,CAAA;MACV,OAAOH,eAAe,CAACG,QAAQ;IACjC,CAAC;IACD,IAAIC,OAAOA,CAAA;MACT,OAAOJ,eAAe,CAACI,OAAO;IAChC,CAAC;IACD,IAAIC,SAASA,CAAA;MACX,OAAOL,eAAe,CAACK,SAAS;IAClC,CAAC;IACDC,GAAGA,CAA0BC,EAAM,EAAEC,OAAkC;MACrE,OAAOR,eAAe,CAACM,GAAG,CAAKC,EAAE,EAAEC,OAAO,CAAC;IAC7C,CAAC;IACDC,SAASA,CACPC,UAAc,EACdF,OAAkC;MAElC,OAAOR,eAAe,CAACS,SAAS,CAAKC,UAAU,EAAEF,OAAO,CAAC;IAC3D,CAAC;IACDG,MAAMA,CACJD,UAAc,EACdF,OAAqC;MAErC,OAAOR,eAAe,CAACW,MAAM,CAAKD,UAAU,EAAEF,OAAO,CAAC;IACxD;GAC4B;AAChC,CAAC,CAAC,CAAE","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}