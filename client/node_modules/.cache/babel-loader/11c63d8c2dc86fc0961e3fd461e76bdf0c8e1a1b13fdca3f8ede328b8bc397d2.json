{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nfunction stripTrailingSlash(url) {\n  if (url[url.length - 1] === '/') {\n    return url.slice(0, -1);\n  }\n  return url;\n}\n/**\n * With an SDK server config and an instance of OAS we should extract and prepare the server and\n * any server variables to be supplied to `@readme/oas-to-har`.\n *\n */\nfunction prepareServer(spec, url, variables) {\n  if (variables === void 0) {\n    variables = {};\n  }\n  var serverIdx;\n  var sanitizedUrl = stripTrailingSlash(url);\n  (spec.api.servers || []).forEach(function (server, i) {\n    if (server.url === sanitizedUrl) {\n      serverIdx = i;\n    }\n  });\n  // If we were able to find the passed in server in the OAS servers, we should use that! If we\n  // couldn't and server variables were passed in we should try our best to handle that, otherwise\n  // we should ignore the passed in server and use whever the default from the OAS is.\n  if (serverIdx) {\n    return {\n      selected: serverIdx,\n      variables: variables\n    };\n  } else if (Object.keys(variables).length) {\n    // @todo we should run `oas.replaceUrl(url)` and pass that unto `@readme/oas-to-har`\n  } else {\n    var server = spec.splitVariables(url);\n    if (server) {\n      return {\n        selected: server.selected,\n        variables: server.variables\n      };\n    }\n    // @todo we should pass `url` directly into `@readme/oas-to-har` as the base URL\n  }\n  return false;\n}\nexports[\"default\"] = prepareServer;","map":{"version":3,"names":["exports","__esModule","stripTrailingSlash","url","length","slice","prepareServer","spec","variables","serverIdx","sanitizedUrl","api","servers","forEach","server","i","selected","Object","keys","splitVariables"],"sources":["/Users/pranavsrinivasan/Documents/VSCode/aividgen/client/.api/apis/aivideoapi/node_modules/api/dist/core/prepareServer.js"],"sourcesContent":["\"use strict\";\nexports.__esModule = true;\nfunction stripTrailingSlash(url) {\n    if (url[url.length - 1] === '/') {\n        return url.slice(0, -1);\n    }\n    return url;\n}\n/**\n * With an SDK server config and an instance of OAS we should extract and prepare the server and\n * any server variables to be supplied to `@readme/oas-to-har`.\n *\n */\nfunction prepareServer(spec, url, variables) {\n    if (variables === void 0) { variables = {}; }\n    var serverIdx;\n    var sanitizedUrl = stripTrailingSlash(url);\n    (spec.api.servers || []).forEach(function (server, i) {\n        if (server.url === sanitizedUrl) {\n            serverIdx = i;\n        }\n    });\n    // If we were able to find the passed in server in the OAS servers, we should use that! If we\n    // couldn't and server variables were passed in we should try our best to handle that, otherwise\n    // we should ignore the passed in server and use whever the default from the OAS is.\n    if (serverIdx) {\n        return {\n            selected: serverIdx,\n            variables: variables\n        };\n    }\n    else if (Object.keys(variables).length) {\n        // @todo we should run `oas.replaceUrl(url)` and pass that unto `@readme/oas-to-har`\n    }\n    else {\n        var server = spec.splitVariables(url);\n        if (server) {\n            return {\n                selected: server.selected,\n                variables: server.variables\n            };\n        }\n        // @todo we should pass `url` directly into `@readme/oas-to-har` as the base URL\n    }\n    return false;\n}\nexports[\"default\"] = prepareServer;\n"],"mappings":"AAAA,YAAY;;AACZA,OAAO,CAACC,UAAU,GAAG,IAAI;AACzB,SAASC,kBAAkBA,CAACC,GAAG,EAAE;EAC7B,IAAIA,GAAG,CAACA,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;IAC7B,OAAOD,GAAG,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAC3B;EACA,OAAOF,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,aAAaA,CAACC,IAAI,EAAEJ,GAAG,EAAEK,SAAS,EAAE;EACzC,IAAIA,SAAS,KAAK,KAAK,CAAC,EAAE;IAAEA,SAAS,GAAG,CAAC,CAAC;EAAE;EAC5C,IAAIC,SAAS;EACb,IAAIC,YAAY,GAAGR,kBAAkB,CAACC,GAAG,CAAC;EAC1C,CAACI,IAAI,CAACI,GAAG,CAACC,OAAO,IAAI,EAAE,EAAEC,OAAO,CAAC,UAAUC,MAAM,EAAEC,CAAC,EAAE;IAClD,IAAID,MAAM,CAACX,GAAG,KAAKO,YAAY,EAAE;MAC7BD,SAAS,GAAGM,CAAC;IACjB;EACJ,CAAC,CAAC;EACF;EACA;EACA;EACA,IAAIN,SAAS,EAAE;IACX,OAAO;MACHO,QAAQ,EAAEP,SAAS;MACnBD,SAAS,EAAEA;IACf,CAAC;EACL,CAAC,MACI,IAAIS,MAAM,CAACC,IAAI,CAACV,SAAS,CAAC,CAACJ,MAAM,EAAE;IACpC;EAAA,CACH,MACI;IACD,IAAIU,MAAM,GAAGP,IAAI,CAACY,cAAc,CAAChB,GAAG,CAAC;IACrC,IAAIW,MAAM,EAAE;MACR,OAAO;QACHE,QAAQ,EAAEF,MAAM,CAACE,QAAQ;QACzBR,SAAS,EAAEM,MAAM,CAACN;MACtB,CAAC;IACL;IACA;EACJ;EACA,OAAO,KAAK;AAChB;AACAR,OAAO,CAAC,SAAS,CAAC,GAAGM,aAAa","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}