"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseVoiceName = exports.getAudioDuration = exports.tts = void 0;
const azuretts_1 = require("./tts/azuretts");
const edgetts_1 = require("./tts/edgetts");
const parseVoiceName = (name) => {
    return name.replace('-Female', '').replace('-Male', '').trim();
};
exports.parseVoiceName = parseVoiceName;
const tts = async (text, voiceName, voiceFile, config) => {
    const { ttsProxy = '', azureTTSSettings, getTTS } = config;
    if (getTTS) {
        return await getTTS(text, voiceName, voiceFile);
    }
    if (azureTTSSettings) {
        return await (0, azuretts_1.azureTTS)(text, voiceName, voiceFile, azureTTSSettings);
    }
    return await (0, edgetts_1.edgeTTS)(text, voiceName, voiceFile, ttsProxy);
};
exports.tts = tts;
const getAudioDuration = (subMaker) => {
    if (!subMaker.offset) {
        return 0.0;
    }
    return subMaker.offset[subMaker.offset.length - 1][1] / 10000000;
};
exports.getAudioDuration = getAudioDuration;
//# sourceMappingURL=voice.js.map