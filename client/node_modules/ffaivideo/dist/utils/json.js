"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toJson = void 0;
const toJson = (obj) => {
    try {
        const serialize = (o) => {
            if (typeof o === 'number' ||
                typeof o === 'boolean' ||
                typeof o === 'string' ||
                o === null) {
                return o;
            }
            else if (o instanceof Buffer) {
                return '*** binary data ***';
            }
            else if (typeof o === 'object') {
                if (Array.isArray(o)) {
                    return o.map(serialize);
                }
                else {
                    const result = {};
                    for (const key in o) {
                        result[key] = serialize(o[key]);
                    }
                    return result;
                }
            }
            else if (o.hasOwnProperty('__dict__')) {
                return serialize(o.__dict__);
            }
            else {
                return null;
            }
        };
        const serializedObj = serialize(obj);
        return JSON.stringify(serializedObj, null, 4);
    }
    catch (e) {
        return null;
    }
};
exports.toJson = toJson;
//# sourceMappingURL=json.js.map